maintainers:
  - github: taotieren
build_prefix: aur-repo-x86_64
pre_build_script: |
  aur_pre_build(maintainers=['alerque', 'thrasibule'])

  run_cmd(['curl', '-L', '-o', 'PKGBUILD', 'https://aur.archlinux.org/cgit/aur.git/plain/PKGBUILD?h=python-fontmake'])

  for line in edit_file('PKGBUILD'):
    if line.startswith('check() {'):
      line = "_check() {"
    print(line)

  run_cmd(['updpkgsums'])
post_build: aur_post_build
# repo_depends:
#   - python-glyphslib-git
#   - python-ttfautohint-py-git
#   - python-ufo2ft-git
#   - python-compreffor-git
#   - python-skia-pathops-git
update_on:
  - source: aur
    aur: python-fontmake
  - alias: python
